<dom-module id="form-login">
<template id="login" style="display:none"> 
<!-- <paper-material id="loginBox"> -->
<paper-input name="name" value="{{name}}" label = "name"> </paper-input>
	<paper-input name="password" value="{{password}}" label = "password" type = "password"> </paper-input>
	 <paper-button raised dialog-dismiss>Cancel</paper-button>
	<paper-button raised type="submit" on-click="handleClick">Login</paper-button>
<paper-input value="{{data.name}}"></paper-input>
<paper-input value="{{data.phone}}"></paper-input>
<paper-input value="{{data.email}}"></paper-input>
<paper-input value="{{data.password}}"></paper-input>
	
	<!-- </paper-material> -->
<iron-ajax
id="ajax"
method = "post"
content-type="application/json"
url = "/login"
handle-as = "json"
 on-response = "responce"
></iron-ajax>
  </template>
</dom-module>
<script>
	Polymer ({
		is : "form-login",
		properties :{
			name : {
				type : String,
				value : null
			},
			password : {
				type : String,
				value : null
			},
			gotname : {
				type :String,
				value : 'none'
			}
			
		},

	/*	 handleClick: function(event) {
     var dataList = '{"name":"'+this.name+'","email":"'+this.email+'","phone":'+this.phone+',"password":"'+this.password+'"}'; 
			console.log(dataList);
			this.$.ajax.body = dataList;
		this.$.ajax.generateRequest();
      },*/

      responce : function(response){
console.log('hai');
console.log(response.detail.response[0]);
var data = response.detail.response;
if(data.length>0)
	{
		//alert(this.data);
		this.data = data[0];
		//alert(this.data);
	}

      },
	 handleClick: function() {
  this.$.ajax.body = { "name": this.name, "password": this.password };
 this.$.ajax.generateRequest();
},
	});

</script>
